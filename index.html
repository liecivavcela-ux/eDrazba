<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Dražba - Diagnostika CSS</title> <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Roboto+Mono&display=swap" rel="stylesheet">
    
    </head>
<body>

    <div id="role-selection">
        <h1>Vitajte v E-Dražbe</h1>
        <p>Ste tu, aby ste navrhli novú dražbu, alebo sa chcete zúčastniť ako záujemca?</p>
        <div class="role-buttons">
            <button class="btn-primary" onclick="showNavrhovatelView()">Som Navrhovateľ</button>
            <button class="btn-primary" onclick="showZaujemcaView()">Som Záujemca (kupujúci)</button>
        </div>
    </div>
    <div id="navrhovatel-view"> </div>
    <div id="zaujemca-view"> </div>
    <div id="bidder-login-view"> </div>
    <div id="detail-view"> </div>
    <script>
        // --- JavaScript KÓD (zostáva presne rovnaký ako naposledy, s localStorage a logovaním) ---
        console.log("Kontrolný bod: E-Dražba Skript začal."); 
        const API_URL = 'https://e-drazba-server.onrender.com';
        let roleSelectionDiv, navrhovatelViewDiv, zaujemcaViewDiv, detailViewDiv, bidderLoginViewDiv, drazbyListDiv, drazbaForm, adresaInput, okresSelect, adresaMapLink, imageUrlInput, bidderIdInfoDiv, currentBidderIdDisplay; 
        function showRoleSelection() { console.log("Kontrolný bod: Vnútri showRoleSelection - začiatok."); try { console.log("  Kontrolujem existenciu roleSelectionDiv..."); if (roleSelectionDiv) { console.log("    roleSelectionDiv existuje."); } else { console.error("    KRITICKÁ CHYBA: roleSelectionDiv je null alebo undefined!"); roleSelectionDiv = document.getElementById('role-selection'); if (!roleSelectionDiv) { console.error("    Ani opakované nájdenie nepomohlo. Pravdepodobne chýba v HTML!"); throw new Error("Element #role-selection nebol nájdený v HTML."); } } console.log("Zobrazujem výber role."); if (roleSelectionDiv) { console.log("  Nastavujem roleSelectionDiv.style.display na 'flex'"); roleSelectionDiv.style.display = 'flex'; const computedDisplay = window.getComputedStyle(roleSelectionDiv).display; console.log(`    Aktuálny computed style display pre roleSelectionDiv: ${computedDisplay}`); if (computedDisplay !== 'flex') { console.warn("    UPOZORNENIE: display štýl sa nenastavil na 'flex'! Možno ho prepisuje iný CSS?"); } } if (navrhovatelViewDiv) navrhovatelViewDiv.style.display = 'none'; if (zaujemcaViewDiv) zaujemcaViewDiv.style.display = 'none'; if (detailViewDiv) detailViewDiv.style.display = 'none'; if (bidderLoginViewDiv) bidderLoginViewDiv.style.display = 'none'; console.log("  Nastavujem body align items na center"); document.body.style.alignItems = 'center'; console.log("Kontrolný bod: Vnútri showRoleSelection - koniec."); } catch (error) { console.error("KRITICKÁ CHYBA v showRoleSelection:", error); document.body.innerHTML = `<p style="color:red;">Kritická chyba pri zobrazovaní úvodnej obrazovky: ${error.message}</p>`; } }
        function showNavrhovatelView() { /* ... */ } function showZaujemcaView() { /* ... */ } function showDetailView(auctionId) { /* ... */ } function showBidderLogin(auctionId) { /* ... */ } function displayBidderIdInfo() { /* ... */ } function clearBidderIdAndShowLogin() { /* ... */ } function updateMapLink() { /* ... */ } async function loadDrazby() { /* ... */ } async function loadAuctionDetail(auctionId) { /* ... */ } async function handleDrazbaSubmit(event) { /* ... */ } async function handleBidderLoginSubmit(event) { /* ... */ } async function handleBidSubmit(event) { /* ... */ }
        document.addEventListener('DOMContentLoaded', () => { console.log("Kontrolný bod: DOM načítaný, inicializácia."); try { console.log("  Inicializujem elementy..."); roleSelectionDiv = document.getElementById('role-selection'); console.log(`    roleSelectionDiv: ${roleSelectionDiv ? 'nájdený' : 'NENÁJDENÝ!'}`); navrhovatelViewDiv = document.getElementById('navrhovatel-view'); console.log(`    navrhovatelViewDiv: ${navrhovatelViewDiv ? 'nájdený' : 'NENÁJDENÝ!'}`); zaujemcaViewDiv = document.getElementById('zaujemca-view'); console.log(`    zaujemcaViewDiv: ${zaujemcaViewDiv ? 'nájdený' : 'NENÁJDENÝ!'}`); detailViewDiv = document.getElementById('detail-view'); console.log(`    detailViewDiv: ${detailViewDiv ? 'nájdený' : 'NENÁJDENÝ!'}`); bidderLoginViewDiv = document.getElementById('bidder-login-view'); console.log(`    bidderLoginViewDiv: ${bidderLoginViewDiv ? 'nájdený' : 'NENÁJDENÝ!'}`); drazbyListDiv = document.getElementById('drazby-list'); drazbaForm = document.getElementById('drazba-form'); adresaInput = document.getElementById('adresa'); okresSelect = document.getElementById('okres'); adresaMapLink = document.getElementById('adresaMapLink'); imageUrlInput = document.getElementById('imageUrl'); bidderIdInfoDiv = document.getElementById('bidder-id-info'); currentBidderIdDisplay = document.getElementById('currentBidderIdDisplay'); console.log("  Elementy inicializované (alebo aj nie - pozri vyššie)."); console.log("Kontrolný bod: Pred volaním showRoleSelection."); showRoleSelection(); console.log("Kontrolný bod: Po volaní showRoleSelection."); console.log("Kontrolný bod: Inicializácia dokončená."); } catch (error) { console.error("KRITICKÁ CHYBA počas inicializácie:", error); const body = document.querySelector('body'); if(body) body.innerHTML = `<p style="color:red;">Kritická chyba počas inicializácie: ${error.message}</p>`; } });
        console.log("Kontrolný bod: Skript načítaný.");
    </script>

</body>
</html>
